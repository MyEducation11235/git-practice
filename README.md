## üß© –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∫–ª—é—á–µ–≤—ã–µ –º–æ–¥–µ–ª–∏:

| –ú–æ–¥–µ–ª—å               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                       | –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è                                          |
| -------------------- | ------------------------------------------------ | ------------------------------------------------------ |
| **Profile**          | –†–∞—Å—à–∏—Ä—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Django       | `user`, `phone`, —Å–≤—è–∑—å —Å `Participant`                 |
| **Participant**      | –£—á–∞—Å—Ç–Ω–∏–∫ –≥–æ–Ω–æ–∫ (–ø—Ä–æ—Ñ–∏–ª—å + –∫–æ–º–∞–Ω–¥–∞ + –º–∞—à–∏–Ω–∞)      | `profile`, `team`, `car`                               |
| **Team**             | –ö–æ–º–∞–Ω–¥–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤                               | `name`, `description`, `owner`                         |
| **Car**              | –ê–≤—Ç–æ–º–æ–±–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≥–æ–Ω–∫–∏                       | `brand`, `model`, `year`, `number_plate`               |
| **Race**             | –°–æ–±—ã—Ç–∏–µ ‚Äî –∞–≤—Ç–æ–≥–æ–Ω–∫–∞                              | `name`, `location`, `date`, `description`              |
| **RaceSession**      | –°–µ—Å—Å–∏–∏ –≥–æ–Ω–∫–∏ (–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ñ–∏–Ω–∞–ª)               | `race`, `name`, `order`, `start_time`                  |
| **RaceRegistration** | –°–≤—è–∑—å —É—á–∞—Å—Ç–Ω–∏–∫–∞, –º–∞—à–∏–Ω—ã –∏ –≥–æ–Ω–∫–∏                  | `participant`, `race`, `car`, `created_at`             |
| **RaceResult**       | –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—Å—Ç—É–ø–ª–µ–Ω–∏—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ –≥–æ–Ω–∫–∏ | `registration`, `session`, `position`, `best_lap_time` |

**–ö–ª—é—á–µ–≤—ã–µ —Å–≤—è–∑–∏:**

* `User ‚Üí Profile ‚Üí Participant`
* `Participant ‚Üí Team`
* `Participant ‚Üí Car`
* `Race ‚Üí RaceSession ‚Üí RaceResult`

---

## üìù –§–æ—Ä–º—ã

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Django Forms –∏ ModelForms.

| –§–æ—Ä–º–∞                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                    |
| ------------------------ | --------------------------------------------- |
| **ParticipantForm**      | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–∫–æ–º–∞–Ω–¥–∞ + –º–∞—à–∏–Ω–∞) |
| **RaceRegistrationForm** | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –≥–æ–Ω–∫—É                |
| **RaceResultForm**       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–µ–∑–¥–∞                  |
| **TeamForm**             | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã                              |
| **CarForm**              | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è                         |

–í—Å–µ —Ñ–æ—Ä–º—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ `ModelForm` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ.

---

## üåê URL-–∞–¥—Ä–µ—Å–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

| URL                               | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª                                     |
| --------------------------------- | ---------------------------------------------- |
| `/races/`                         | –°–ø–∏—Å–æ–∫ –≥–æ–Ω–æ–∫, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –≥–æ–Ω–∫–∏             |
| `/races/<pk>/`                    | –î–µ—Ç–∞–ª–∏ –≥–æ–Ω–∫–∏ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π          |
| `/races/<pk>/register/`           | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –≥–æ–Ω–∫—É                 |
| `/race_session/<pk>/results/add/` | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–µ—Å—Å–∏–∏                   |
| `/team/create/`                   | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã                               |
| `/participant/edit/`              | ‚úèÔ∏è **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–Ω–æ–≤–æ–µ)** |

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π (–ø–æ —Ä–æ–ª—è–º)

* **–ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≥–æ–Ω–∫–∏.
* **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É.
* **–£—á–∞—Å—Ç–Ω–∏–∫**: –º–æ–∂–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≥–æ–Ω–∫–∏, –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.
* **–ê–¥–º–∏–Ω**: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ Django Admin.

---

## üõ† –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ views, —Ç–∞–∫ –∏ ModelForm.

–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è:

| View               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                             |
| ------------------ | -------------------------------------- |
| `races_list`       | –ü–æ–∫–∞–∑ —Å–ø–∏—Å–∫–∞ –≥–æ–Ω–æ–∫                     |
| `race_detail`      | –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥–æ–Ω–∫–µ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö |
| `race_register`    | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –≥–æ–Ω–∫—É         |
| `result_add`       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–µ–∑–¥–∞           |
| `team_create`      | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã                       |
| `participant_edit` | ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞     |

### –ü—Ä–∏–º–µ—Ä view –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞

```python
@login_required
def participant_edit(request):
    profile = request.user.profile
    participant = profile.participant

    if request.method == "POST":
        form = ParticipantForm(request.POST, instance=participant)
        if form.is_valid():
            form.save()
            return redirect("racing:races_list")

    else:
        form = ParticipantForm(instance=participant)

    return render(request, "racing/participant_edit.html", {"form": form})
```

---

## üß∞ –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–í—Å–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `admin.py`, –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Django Admin.

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:

* –î–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ–Ω–∫–∏
* –£–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Å—Å–∏—è–º–∏ –≥–æ–Ω–æ–∫
* –°–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ–Ω–æ–∫
* –£–ø—Ä–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ –∫–æ–º–∞–Ω–¥–∞–º–∏

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å Django, –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–æ:

```
/admin/
```
