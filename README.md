# üöó RacingProject ‚Äî Django –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–≥–æ–Ω–∫–∞–º–∏

## –ó–∞–¥–∞–Ω–∏–µ "–¢–∞–±–ª–æ –ø–æ–±–µ–¥–∏—Ç–µ–ª–µ–π –∞–≤—Ç–æ–≥–æ–Ω–æ–∫"

–¢–∞–±–ª–æ –¥–æ–ª–∂–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–∞—Ö –∞–≤—Ç–æ–≥–æ–Ω–æ–∫: 
* –§–ò–û —É—á–∞—Å—Ç–Ω–∏–∫–∞, 
* –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã, 
* –æ–ø–∏—Å–∞–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è, 
* –æ–ø–∏—Å–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞, 
* –æ–ø—ã—Ç –∏ –∫–ª–∞—Å—Å —É—á–∞—Å—Ç–Ω–∏–∫–∞.
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.
* –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–≤—Ç–æ–≥–æ–Ω–æ–∫ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≥–æ–Ω—â–∏–∫–æ–≤. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π.
* –ù–∞–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤ –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∞–≤—Ç–æ–≥–æ–Ω–∫–∞–º. –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è. –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è 
	* –¥–∞—Ç—ã –∑–∞–µ–∑–¥–∞, 
	* —Ç–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è, 
	* —Ç–∏–ø –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–≤–æ–ø—Ä–æ—Å –æ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ, –≤–æ–ø—Ä–æ—Å –æ –≥–æ–Ω–∫–∞—Ö, –∏–Ω–æ–µ), 
	* —Ä–µ–π—Ç–∏–Ω–≥ (1-10), 
	* –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä–µ. 
* –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–µ–∑–¥–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ Django-admin. 
* –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –¥–æ–ª–∂–Ω–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å—Å—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –∑–∞–µ–∑–¥–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≥–æ–Ω–∫–∏.

---

## üß© –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

[<img src="report_photo/er_diagram_1_n_with_attributes.png" />]()

*–û–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –æ–ø–∏—Å—ã–≤–∞—é—Ç —Å—É—â–Ω–æ—Å—Ç–∏ (–≥–æ–Ω–∫–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∏, –∫–æ–º–∞–Ω–¥—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã) –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–∏–º–∏.*

| –ú–æ–¥–µ–ª—å               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                    | –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è                                          |
| -------------------- | --------------------------------------------- | ------------------------------------------------------ |
| **Profile**          | –î–æ–ø–æ–ª–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ Django –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è    | `user`, `phone`, —Å–≤—è–∑—å —Å `Participant`                 |
| **Participant**      | –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–∞–∫ —É—á–∞—Å—Ç–Ω–∏–∫–∞ –≥–æ–Ω–æ–∫ | `profile`, `team`, `car`                               |
| **Team**             | –ö–æ–º–∞–Ω–¥–∞ –≥–æ–Ω—â–∏–∫–∞ –∏–ª–∏ –≥—Ä—É–ø–ø—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤         | `name`, `description`, `owner`                         |
| **Car**              | –ê–≤—Ç–æ–º–æ–±–∏–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞                          | `brand`, `model`, `year`, `number_plate`               |
| **Race**             | –°–æ–±—ã—Ç–∏–µ –≥–æ–Ω–∫–∏                                 | `name`, `location`, `date`, `description`              |
| **RaceSession**      | –û—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è –≥–æ–Ω–∫–∏ (–∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ñ–∏–Ω–∞–ª)  | `race`, `name`, `order`, `start_time`                  |
| **RaceRegistration** | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –≥–æ–Ω–∫—É                | `participant`, `race`, `car`, `created_at`             |
| **RaceResult**       | –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ—Å—Å–∏–∏ –≥–æ–Ω–∫–∏                        | `registration`, `session`, `position`, `best_lap_time` |

---

## üìù –§–æ—Ä–º—ã

*–ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–≤–æ–¥–∏—Ç—å –∏ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.*

| –§–æ—Ä–º–∞                    | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                             |
| ------------------------ | ------------------------------------------------------ |
| **ProfileRegistrationForm**      | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ |
| **ParticipantForm**      | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–∞ (–∫–æ–º–∞–Ω–¥–∞ –∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—å) |
| **CarForm**              | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è                                  |
| **TeamForm**             | –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã                                       |
| **RaceForm**             | –°–æ–∑–¥–∞–Ω–∏–µ –≥–æ–Ω–∫–∏ (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)                                       |
| **RaceRegistrationForm** | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ –Ω–∞ –≥–æ–Ω–∫—É                         |
| **RaceSessionForm**       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–µ–∑–¥–∞ –≤ –≥–æ–Ω–∫—É (–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)                    |
| **RaceResultForm**       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Å–µ—Å—Å–∏–∏ –≥–æ–Ω–∫–∏                     |
| **CommentForm**       | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏—è –∫ –≥–æ–Ω–∫–µ                     |

---

## üåê URL-–∞–¥—Ä–µ—Å–∞ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

*–î–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Å–∞–π—Ç—É –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π –±—ã–ª–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è. –û–ø–∏—Å—ã–≤–∞—é—Ç —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç, –∫–∞–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.*

```python
path('', views.races_list, name='races_list')
path('accounts/login/', views.index, name='index')
path('login/', views.AppLoginView.as_view(), name='login')
path('logout/', auth_views.LogoutView.as_view(next_page='racing:races_list'), name='logout')
path('register/', views.register, name='register')
path('participant/create/', views.participant_create, name='participant_create')
path('participant/edit/', views.participant_edit, name='participant_edit')
path('car/create/', views.car_create, name='car_create')
path('team/create/', views.team_create, name='team_create')
path('races/', views.races_list, name='races_list')
path("races/create/", views.race_create, name="race_create")
path('races/<int:pk>/', views.race_detail, name='race_detail')
path('races/<int:race_pk>/register/', views.race_register, name='race_register')
path('races/<int:race_pk>/toggle-registration/', views.race_unregister, name='race_unregister')
path('races/<int:race_pk>/comment/', views.add_comment, name='add_comment')
path('races/<int:race_pk>/race_session_create/', views.race_session_create, name='race_session_create')
path('races/<int:race_pk>/sessions/<int:session_pk>/result/add', views.add_result, name='add_result')
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**

* –ì–æ—Å—Ç—å: —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –≥–æ–Ω–æ–∫
* –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, —Å—Ç–∞—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º, —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
* –£—á–∞—Å—Ç–Ω–∏–∫: —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—å –¥–ª—è –≥–æ–Ω–∫–∏, —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≥–æ–Ω–∫–∏
* –ê–¥–º–∏–Ω: —Å–æ–∑–¥–∞–Ω–∏–µ –≥–æ–Ω–æ–∫, –∑–∞–µ–∑–¥–æ–≤ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–µ–∑–¥–æ–≤

---

## üõ† –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Views)

*–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø—Ä–æ—Å—ã, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –º–æ–¥–µ–ª—è–º–∏ –∏ —Ñ–æ—Ä–º–∞–º–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —à–∞–±–ª–æ–Ω—ã.*

–ü—Ä–∏–º–µ—Ä —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è

```python
@login_required
def car_create(request):
    if request.method == 'POST':
        form = CarForm(request.POST)
        if form.is_valid():
            car = form.save()
            return redirect('racing:races_list')
    else:
        form = CarForm()
    return render(request, 'racing/car_form.html', {'form': form})
```

–ü—Ä–∏–º–µ—Ä —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞:

```python
@login_required
def participant_edit(request):
    profile = request.user.profile
    participant = profile.participant

    if request.method == "POST":
        form = ParticipantForm(request.POST, instance=participant)
        if form.is_valid():
            form.save()
            return redirect("racing:races_list")

    else:
        form = ParticipantForm(instance=participant)

    return render(request, "racing/participant_edit.html", {"form": form})
```

---

## üß∞ –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–í—Å–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `admin.py`, –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Django Admin.

–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:

* –ù–∞–ø—Ä—è–º—É—é –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –æ–±—ä–µ–∫—Ç–∞–º –ë–î –∏–∑ –ø–∞–Ω–µ–ª–∏ /admin/
* –î–æ–±–∞–≤–ª—è—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≥–æ–Ω–∫–∏
* –£–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–µ–∑–¥–∞–º–∏ –≥–æ–Ω–æ–∫
* –ó–∞–Ω–æ—Å–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ–Ω–æ–∫

–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç–∞—Ä—Ç–æ—Ä–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –Ω–∞ —Å–∞–º–æ–º —Å–∞–π—Ç–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å Django, –¥–æ—Å—Ç—É–ø–Ω–∞—è –ø–æ:

```
/admin/
```
